"use strict";(self.webpackChunkobsidian_plugin_docs=self.webpackChunkobsidian_plugin_docs||[]).push([[6559],{8413:(e,i,o)=>{o.r(i),o.d(i,{assets:()=>r,contentTitle:()=>a,default:()=>u,frontMatter:()=>l,metadata:()=>s,toc:()=>p});var t=o(7462),n=(o(7294),o(3905));o(1839);const l={},a="Develop for mobile devices",s={unversionedId:"testing/mobile-devices",id:"testing/mobile-devices",title:"Develop for mobile devices",description:"Learn how you can develop your plugin for mobile devices.",source:"@site/docs/testing/mobile-devices.md",sourceDirName:"testing",slug:"/testing/mobile-devices",permalink:"/obsidian-plugin-docs/testing/mobile-devices",draft:!1,editUrl:"https://github.com/marcusolsson/obsidian-plugin-docs/edit/main/docs/testing/mobile-devices.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Events",permalink:"/obsidian-plugin-docs/events"},next:{title:"Submit your plugin",permalink:"/obsidian-plugin-docs/publishing/submit-your-plugin"}},r={},p=[{value:"Emulate mobile device on desktop",id:"emulate-mobile-device-on-desktop",level:2},{value:"Platform-specific features",id:"platform-specific-features",level:2},{value:"Disable your plugin on mobile devices",id:"disable-your-plugin-on-mobile-devices",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Node and Electron APIs",id:"node-and-electron-apis",level:3},{value:"Lookbehind in regular expressions",id:"lookbehind-in-regular-expressions",level:3}],d={toc:p};function u(e){let{components:i,...o}=e;return(0,n.kt)("wrapper",(0,t.Z)({},d,o,{components:i,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"develop-for-mobile-devices"},"Develop for mobile devices"),(0,n.kt)("p",null,"Learn how you can develop your plugin for mobile devices."),(0,n.kt)("h2",{id:"emulate-mobile-device-on-desktop"},"Emulate mobile device on desktop"),(0,n.kt)("p",null,"You can emulate Obsidian running a mobile device directly from the Developer Tools."),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Open the ",(0,n.kt)("strong",{parentName:"p"},"Developer Tools"),".")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Select the ",(0,n.kt)("strong",{parentName:"p"},"Console")," tab.")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"Enter the following and then press ",(0,n.kt)("inlineCode",{parentName:"p"},"Enter"),"."),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-ts"},"this.app.emulateMobile(true);\n")))),(0,n.kt)("p",null,"To disable mobile emulation, enter the following and press ",(0,n.kt)("inlineCode",{parentName:"p"},"Enter"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-ts"},"this.app.emulateMobile(false);\n")),(0,n.kt)("admonition",{type:"tip"},(0,n.kt)("p",{parentName:"admonition"},"To instead toggle mobile emulation back and forth, you can use the ",(0,n.kt)("inlineCode",{parentName:"p"},"this.app.isMobile")," flag:"),(0,n.kt)("pre",{parentName:"admonition"},(0,n.kt)("code",{parentName:"pre",className:"language-ts"},"this.app.emulateMobile(!this.app.isMobile);\n"))),(0,n.kt)("h2",{id:"platform-specific-features"},"Platform-specific features"),(0,n.kt)("p",null,"To detect the platform your plugin is running on, you can use ",(0,n.kt)("inlineCode",{parentName:"p"},"Platform"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-ts"},'import { Platform } from "obsidian";\n\nif (Platform.isIosApp) {\n  // ...\n}\n\nif (Platform.isAndroidApp) {\n  // ...\n}\n')),(0,n.kt)("h2",{id:"disable-your-plugin-on-mobile-devices"},"Disable your plugin on mobile devices"),(0,n.kt)("p",null,"If your plugin requires the Node.js or Electron API, you can prevent users from installing the plugin on mobile devices."),(0,n.kt)("p",null,"To only support the desktop app, set ",(0,n.kt)("inlineCode",{parentName:"p"},"isDesktopOnly")," to ",(0,n.kt)("inlineCode",{parentName:"p"},"true")," in the ",(0,n.kt)("a",{parentName:"p",href:"/obsidian-plugin-docs/reference/manifest"},"manifest.json"),"."),(0,n.kt)("h2",{id:"troubleshooting"},"Troubleshooting"),(0,n.kt)("p",null,"This section lists common issues when developing for mobile devices."),(0,n.kt)("h3",{id:"node-and-electron-apis"},"Node and Electron APIs"),(0,n.kt)("p",null,"The Node.js API and the Electron API aren't available on mobile devices. Any calls to these libraries result cause your plugin to crash."),(0,n.kt)("h3",{id:"lookbehind-in-regular-expressions"},"Lookbehind in regular expressions"),(0,n.kt)("p",null,"Lookbehind in regular expressions is currently not supported on iOS. To implement a fallback for iOS users, refer to ",(0,n.kt)("a",{parentName:"p",href:"#platform-specific-features"},"Platform-specific features"),"."),(0,n.kt)("p",null,"Refer to ",(0,n.kt)("a",{parentName:"p",href:"https://caniuse.com/js-regexp-lookbehind"},"Can I Use"),' for an up-to-date status. Look for "Safari on iOS".'))}u.isMDXComponent=!0}}]);