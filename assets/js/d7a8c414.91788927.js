"use strict";(self.webpackChunkobsidian_plugin_docs=self.webpackChunkobsidian_plugin_docs||[]).push([[9869],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>h});var n=a(67294);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function r(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var o=n.createContext({}),d=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},c=function(e){var t=d(e.components);return n.createElement(o.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,i=e.originalType,o=e.parentName,c=r(e,["components","mdxType","originalType","parentName"]),u=d(a),h=l,f=u["".concat(o,".").concat(h)]||u[h]||p[h]||i;return a?n.createElement(f,s(s({ref:t},c),{},{components:a})):n.createElement(f,s({ref:t},c))}));function h(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var i=a.length,s=new Array(i);s[0]=u;var r={};for(var o in t)hasOwnProperty.call(t,o)&&(r[o]=t[o]);r.originalType=e,r.mdxType="string"==typeof e?e:l,s[1]=r;for(var d=2;d<i;d++)s[d]=a[d];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},24099:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>s,default:()=>p,frontMatter:()=>i,metadata:()=>r,toc:()=>d});var n=a(83117),l=(a(67294),a(3905));const i={},s="MetadataCache",r={unversionedId:"reference/typescript/classes/MetadataCache",id:"reference/typescript/classes/MetadataCache",title:"MetadataCache",description:"Extends Events",source:"@site/docs/reference/typescript/classes/MetadataCache.md",sourceDirName:"reference/typescript/classes",slug:"/reference/typescript/classes/MetadataCache",permalink:"/obsidian-plugin-docs/reference/typescript/classes/MetadataCache",draft:!1,editUrl:"https://github.com/marcusolsson/obsidian-plugin-docs/edit/main/docs/reference/typescript/classes/MetadataCache.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"MenuSeparator",permalink:"/obsidian-plugin-docs/reference/typescript/classes/MenuSeparator"},next:{title:"Modal",permalink:"/obsidian-plugin-docs/reference/typescript/classes/Modal"}},o={},d=[{value:"Constructor",id:"constructor",level:2},{value:"Properties",id:"properties",level:2},{value:"resolvedLinks",id:"resolvedlinks",level:3},{value:"unresolvedLinks",id:"unresolvedlinks",level:3},{value:"Methods",id:"methods",level:2},{value:"getFirstLinkpathDest",id:"getfirstlinkpathdest",level:3},{value:"getFileCache",id:"getfilecache",level:3},{value:"getCache",id:"getcache",level:3},{value:"fileToLinktext",id:"filetolinktext",level:3},{value:"on",id:"on",level:3},{value:"on",id:"on-1",level:3},{value:"on",id:"on-2",level:3},{value:"on",id:"on-3",level:3}],c={toc:d};function p(e){let{components:t,...a}=e;return(0,l.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"metadatacache"},"MetadataCache"),(0,l.kt)("p",null,"Extends ",(0,l.kt)("inlineCode",{parentName:"p"},"Events")),(0,l.kt)("p",null,'Linktext is any internal link that is composed of a path and a subpath, such as "My note#Heading"\nLinkpath (or path) is the path part of a linktext\nSubpath is the heading/block ID part of a linktext.'),(0,l.kt)("h2",{id:"constructor"},"Constructor"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"constructor();\n")),(0,l.kt)("h2",{id:"properties"},"Properties"),(0,l.kt)("h3",{id:"resolvedlinks"},"resolvedLinks"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"resolvedLinks: Record<string, Record<string, number>>\n")),(0,l.kt)("p",null,"Contains all resolved links. This object maps each source file's path to an object of destination file paths with the link count.\nSource and destination paths are all vault absolute paths that comes from ",(0,l.kt)("inlineCode",{parentName:"p"},"TFile.path")," and can be used with ",(0,l.kt)("inlineCode",{parentName:"p"},"Vault.getAbstractFileByPath(path)"),"."),(0,l.kt)("h3",{id:"unresolvedlinks"},"unresolvedLinks"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"unresolvedLinks: Record<string, Record<string, number>>\n")),(0,l.kt)("p",null,"Contains all unresolved links. This object maps each source file to an object of unknown destinations with count.\nSource paths are all vault absolute paths, similar to ",(0,l.kt)("inlineCode",{parentName:"p"},"resolvedLinks"),"."),(0,l.kt)("h2",{id:"methods"},"Methods"),(0,l.kt)("h3",{id:"getfirstlinkpathdest"},"getFirstLinkpathDest"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"getFirstLinkpathDest(linkpath: string, sourcePath: string): TFile | null;\n")),(0,l.kt)("p",null,"Get the best match for a linkpath."),(0,l.kt)("h3",{id:"getfilecache"},"getFileCache"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"getFileCache(file: TFile): CachedMetadata | null;\n")),(0,l.kt)("h3",{id:"getcache"},"getCache"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"getCache(path: string): CachedMetadata | null;\n")),(0,l.kt)("h3",{id:"filetolinktext"},"fileToLinktext"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"fileToLinktext(file: TFile, sourcePath: string, omitMdExtension?: boolean): string;\n")),(0,l.kt)("p",null,"Generates a linktext for a file."),(0,l.kt)("p",null,"If file name is unique, use the filename.\nIf not unique, use full path."),(0,l.kt)("h3",{id:"on"},"on"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"on(name: 'changed', callback: (file: TFile, data: string, cache: CachedMetadata) => any, ctx?: any): EventRef;\n")),(0,l.kt)("p",null,"Called when a file has been indexed, and its (updated) cache is now available.\nCalled when a file has been deleted. A best-effort previous version of the cached metadata is presented,\nbut it could be null in case the file was not successfully cached previously.\nCalled when a file has been resolved for ",(0,l.kt)("inlineCode",{parentName:"p"},"resolvedLinks")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"unresolvedLinks"),".\nThis happens sometimes after a file has been indexed.\nCalled when all files has been resolved. This will be fired each time files get modified after the initial load."),(0,l.kt)("h3",{id:"on-1"},"on"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"on(name: 'deleted', callback: (file: TFile, prevCache: CachedMetadata | null) => any, ctx?: any): EventRef;\n")),(0,l.kt)("p",null,"Called when a file has been indexed, and its (updated) cache is now available.\nCalled when a file has been deleted. A best-effort previous version of the cached metadata is presented,\nbut it could be null in case the file was not successfully cached previously.\nCalled when a file has been resolved for ",(0,l.kt)("inlineCode",{parentName:"p"},"resolvedLinks")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"unresolvedLinks"),".\nThis happens sometimes after a file has been indexed.\nCalled when all files has been resolved. This will be fired each time files get modified after the initial load."),(0,l.kt)("h3",{id:"on-2"},"on"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"on(name: 'resolve', callback: (file: TFile) => any, ctx?: any): EventRef;\n")),(0,l.kt)("p",null,"Called when a file has been indexed, and its (updated) cache is now available.\nCalled when a file has been deleted. A best-effort previous version of the cached metadata is presented,\nbut it could be null in case the file was not successfully cached previously.\nCalled when a file has been resolved for ",(0,l.kt)("inlineCode",{parentName:"p"},"resolvedLinks")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"unresolvedLinks"),".\nThis happens sometimes after a file has been indexed.\nCalled when all files has been resolved. This will be fired each time files get modified after the initial load."),(0,l.kt)("h3",{id:"on-3"},"on"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ts"},"on(name: 'resolved', callback: () => any, ctx?: any): EventRef;\n")),(0,l.kt)("p",null,"Called when a file has been indexed, and its (updated) cache is now available.\nCalled when a file has been deleted. A best-effort previous version of the cached metadata is presented,\nbut it could be null in case the file was not successfully cached previously.\nCalled when a file has been resolved for ",(0,l.kt)("inlineCode",{parentName:"p"},"resolvedLinks")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"unresolvedLinks"),".\nThis happens sometimes after a file has been indexed.\nCalled when all files has been resolved. This will be fired each time files get modified after the initial load."))}p.isMDXComponent=!0}}]);