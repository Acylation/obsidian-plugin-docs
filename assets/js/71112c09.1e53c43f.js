"use strict";(self.webpackChunkobsidian_plugin_docs=self.webpackChunkobsidian_plugin_docs||[]).push([[6524],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var r=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var d=r.createContext({}),l=function(e){var t=r.useContext(d),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},c=function(e){var t=l(e.components);return r.createElement(d.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},u=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,d=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=l(n),m=i,g=u["".concat(d,".").concat(m)]||u[m]||p[m]||o;return n?r.createElement(g,a(a({ref:t},c),{},{components:n})):r.createElement(g,a({ref:t},c))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,a=new Array(o);a[0]=u;var s={};for(var d in t)hasOwnProperty.call(t,d)&&(s[d]=t[d]);s.originalType=e,s.mdxType="string"==typeof e?e:i,a[1]=s;for(var l=2;l<o;l++)a[l]=n[l];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}u.displayName="MDXCreateElement"},82362:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var r=n(83117),i=(n(67294),n(3905));const o={sidebar_position:80},a="Editor",s={unversionedId:"guides/editor",id:"guides/editor",title:"Editor",description:"The Editor class exposes operations for reading and manipulating an active Markdown document in edit mode.",source:"@site/docs/guides/editor.md",sourceDirName:"guides",slug:"/guides/editor",permalink:"/obsidian-plugin-docs/guides/editor",draft:!1,editUrl:"https://github.com/marcusolsson/obsidian-plugin-docs/edit/main/docs/guides/editor.md",tags:[],version:"current",sidebarPosition:80,frontMatter:{sidebar_position:80},sidebar:"docs",previous:{title:"HTML elements",permalink:"/obsidian-plugin-docs/guides/html-elements"},next:{title:"Context menus",permalink:"/obsidian-plugin-docs/guides/context-menus"}},d={},l=[{value:"Insert text at cursor position",id:"insert-text-at-cursor-position",level:2},{value:"Replace current selection",id:"replace-current-selection",level:2}],c={toc:l};function p(e){let{components:t,...o}=e;return(0,i.kt)("wrapper",(0,r.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"editor"},"Editor"),(0,i.kt)("p",null,"The ",(0,i.kt)("a",{parentName:"p",href:"/obsidian-plugin-docs/api/classes/Editor"},(0,i.kt)("inlineCode",{parentName:"a"},"Editor"))," class exposes operations for reading and manipulating an active Markdown document in edit mode."),(0,i.kt)("p",null,"If you want to access the editor in a command, use the ",(0,i.kt)("a",{parentName:"p",href:"/obsidian-plugin-docs/guides/commands#editor-commands"},"editorCallback"),"."),(0,i.kt)("p",null,"If you want to use the editor elsewhere, you can access it from the active view:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"const view = this.app.workspace.getActiveViewOfType(MarkdownView);\n\n// Make sure the user is editing a Markdown file.\nif (view) {\n  // highlight-next-line\n  const cursor = view.editor.getCursor();\n\n  // ...\n}\n")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Obsidian uses ",(0,i.kt)("a",{parentName:"p",href:"https://codemirror.net/"},"CodeMirror")," (CM) as the underlying text editor, and exposes the CodeMirror editor as part of the API. ",(0,i.kt)("inlineCode",{parentName:"p"},"Editor")," serves as an abstraction to bridge features in CM5 (desktop) and CM6 (mobile). By using ",(0,i.kt)("inlineCode",{parentName:"p"},"Editor")," instead of directly accessing the CodeMirror instance, you ensure that your plugin works on both platforms.")),(0,i.kt)("h2",{id:"insert-text-at-cursor-position"},"Insert text at cursor position"),(0,i.kt)("p",null,"The ",(0,i.kt)("a",{parentName:"p",href:"/obsidian-plugin-docs/api/classes/Editor#replacerange"},(0,i.kt)("inlineCode",{parentName:"a"},"replaceRange()"))," method replaces the text between two cursor positions. If you only give it one position, it inserts the new text between that position and the next."),(0,i.kt)("p",null,"The following command inserts today's date at the cursor position:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="main.ts"',title:'"main.ts"'},'import { Editor, moment, Plugin } from "obsidian";\n\nexport default class ExamplePlugin extends Plugin {\n  async onload() {\n    this.addCommand({\n      id: "insert-todays-date",\n      name: "Insert today\'s date",\n      editorCallback: (editor: Editor) => {\n        // highlight-next-line\n        editor.replaceRange(moment().format("YYYY-MM-DD"), editor.getCursor());\n      },\n    });\n  }\n}\n')),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Insert today&#39;s date",src:n(64039).Z,width:"800",height:"216"})),(0,i.kt)("h2",{id:"replace-current-selection"},"Replace current selection"),(0,i.kt)("p",null,"If you want to modify the selected text, use ",(0,i.kt)("a",{parentName:"p",href:"/obsidian-plugin-docs/api/classes/Editor#replaceselection"},(0,i.kt)("inlineCode",{parentName:"a"},"replaceSelection()"))," to replace the current selection with a new text."),(0,i.kt)("p",null,"The following command reads the current selection and converts it to uppercase:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="main.ts"',title:'"main.ts"'},'import { Editor, Plugin } from "obsidian";\n\nexport default class ExamplePlugin extends Plugin {\n  async onload() {\n    this.addCommand({\n      id: "convert-to-uppercase",\n      name: "Convert to uppercase",\n      editorCallback: (editor: Editor) => {\n        // highlight-start\n        const selection = editor.getSelection();\n        editor.replaceSelection(selection.toUpperCase());\n        // highlight-end\n      },\n    });\n  }\n}\n')),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Convert to uppercase",src:n(27197).Z,width:"800",height:"277"})))}p.isMDXComponent=!0},64039:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/editor-todays-date-932d1dc3e909069ffac309b1060937df.gif"},27197:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/editor-uppercase-78ee5c2ae8485c391356a434fd1cc688.gif"}}]);